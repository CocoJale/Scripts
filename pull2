-- Load Kavo UI
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Pull A Sword Hub", "DarkTheme")

-- Tabs
local Tab1 = Window:NewTab("Main Game")
local Tab2 = Window:NewTab("Events")

-- Sections
local MainGameSection = Tab1:NewSection("Main Game")
local EventSection = Tab2:NewSection("Herald Event")

-- Auto Click
local autoClickEnabled = false
MainGameSection:NewToggle("Auto Click", "Automatically click", function(state)
    autoClickEnabled = state
    if state then
        task.spawn(function()
            while autoClickEnabled do
                game:GetService("ReplicatedStorage").Remotes.Events.ClickEvent:FireServer()
                task.wait()
            end
        end)
    end
end)

-- Generate Crystals
local generateCrystalsEnabled = false
MainGameSection:NewToggle("Generate Crystals", "Farm boss crystals", function(state)
    generateCrystalsEnabled = state
    local remotes = game:GetService("ReplicatedStorage").Remotes.Events
    if state then
        remotes.RemoveC:FireServer(1)
        task.spawn(function()
            while generateCrystalsEnabled do
                for i=1,5 do
                    remotes.WinMegaBossEvent:FireServer("Dragon6","Chaos")
                end
                task.wait(0.01)
            end
        end)
    else
        remotes.RemoveC:FireServer(0)
    end
end)

-- Spin Crystal Wheels
local spinCrystalWheelsEnabled = false
MainGameSection:NewToggle("Spin Crystal Wheels", "Auto-spin wheels", function(state)
    spinCrystalWheelsEnabled = state
    if state then
        task.spawn(function()
            while spinCrystalWheelsEnabled do
                local remotes = game:GetService("ReplicatedStorage").Remotes.Events
                remotes.WorldWheelEvent:FireServer("5")
                remotes.SpinWheelSecret:FireServer("-8", "563")
                remotes.WorldWheelEvent:FireServer("6")
                task.wait(1)
            end
        end)
    end
end)

-- Kill Title Bosses
local killTitleBossesEnabled = false
MainGameSection:NewToggle("Kill Title Bosses","Auto kill bosses", function(state)
    killTitleBossesEnabled = state
    local remotes = game:GetService("ReplicatedStorage").Remotes.Events
    if state then
        remotes.RemoveC:FireServer(1)
        task.spawn(function()
            local b=1
            while killTitleBossesEnabled do
                remotes.WinBossEvent:FireServer("Boss"..b)
                b = b + 1; if b > 10 then b = 1 end
                task.wait()
            end
        end)
    else
        remotes.RemoveC:FireServer(0)
    end
end)

-- Hatch Nearest
local hatchNearestEnabled=false
MainGameSection:NewToggle("Hatch Nearest","Auto hatch eggs", function(state)
    hatchNearestEnabled = state
    local eggs = {
        "W1E1","W2E1","W3E1","W4E1","W5E1","W6E1","W7E1","W8E1","W9E1","W10E1",
        "W11E1","W12E1","W13E1","W14E1","W15E1","W16E1","W17E1","W18E1","W19E1","W20E1",
        "W21E1","W22E1","W23E1","W24E1","W25E1","W26E1","W27E1","W28E1","W29E1","W30E1",
        "W31E1","W32E1","W33E1","W34E1","W35E1","Common Egg"
    }
    if state then
        task.spawn(function()
            while hatchNearestEnabled do
                for _,eggName in ipairs(eggs) do
                    game:GetService("ReplicatedStorage").GameClient.Events.RemoteFunction.BuyEgg:InvokeServer(eggName,"Buy1")
                end
                task.wait(0.3)
            end
        end)
    end
end)

-- Auto PvP
local autoPvPEnabled=false
local selectedPvPTarget="Coco"
MainGameSection:NewToggle("Auto PvP","Fight automatically", function(state)
    autoPvPEnabled = state
    if state then
        task.spawn(function()
            while autoPvPEnabled do
                local remotes=game:GetService("ReplicatedStorage").Remotes.Events
                if selectedPvPTarget=="Coco" then
                    remotes.WinEvent_PVP:FireServer("Cocojale", true, true)
                elseif selectedPvPTarget=="Akira" then
                    remotes.WinEvent_PVP:FireServer("Rip_AkiraToriyama55", true, true)
                end
                task.wait(10820)
            end
        end)
    end
end)

MainGameSection:NewDropdown("Select PvP Target","Choose opponent", {"Coco","Akira"}, function(option)
    selectedPvPTarget = option
end)

-- Complete Quests
MainGameSection:NewButton("Complete Quests","Auto complete", function()
    local remotes=game:GetService("ReplicatedStorage").Remotes.Events
    remotes.RemoveC:FireServer(1)
    task.wait(1)
    remotes.WorldWheelEvent:FireServer("5")
    remotes.OnStandartShopRequest:FireServer("Buy",2,3)
    remotes.OnStandartShopRequest:FireServer("Buy",2,1)
    task.wait(2)
    remotes.PortalC:FireServer("1",true)
    task.wait(2)
    remotes.PortalC:FireServer("2",true)
    for i=1,10 do
        remotes.WinEvent:FireServer("5")
        task.wait(2)
    end
    for i=1,20 do
        remotes.WinBossEvent:FireServer("Boss1")
        task.wait(0.1)
    end
    remotes.RemoveC:FireServer(0)
end)

-- Redeem Codes
MainGameSection:NewButton("Redeem All Codes","Use every code", function()
    local codes={"GAMESTARTS","FIRSTROUND","ARISE","ARISE2","ARISE3","sorrydelayraid",
        "ARISE4","FIRSTPASLEAGUE","WEEKPOWER","ELITECODE","DAILYQUESTS","GROWASWORD","CRAFTUPD","BESTCODE333",
        "MASTERCODE","SORRYDELAY","UDINDINDIN","DELAYASWORD1","LUNACODE33","WHEELFIX3",
        "SORRYPAW","REBIRTHFIX","TIMERBUG23","SEASONXIV","BESTCODE222"}
    local remote = game:GetService("ReplicatedStorage").Remotes.Functions.OnCodeRequest
    for _,code in ipairs(codes) do
        remote:InvokeServer(code,"YT_Arawrd")
        task.wait(6)
    end
end)

-- Antiafk / Antilag
MainGameSection:NewButton("Antiafk & Antilag","Boost FPS", function()
    local g, w, l, t = game, game.Workspace, game.Lighting, game.Workspace.Terrain
    local decalsyeeted = true
    t.WaterWaveSize, t.WaterWaveSpeed, t.WaterReflectance, t.WaterTransparency=0,0,0,0
    l.GlobalShadows, l.FogEnd, l.Brightness=false,9e9,0
    settings().Rendering.QualityLevel="Level01"
    for _,v in ipairs(g:GetDescendants()) do
        if v:IsA("BasePart") or v:IsA("MeshPart") then
            v.Material,v.Reflectance="Plastic",0
        elseif decalsyeeted and (v:IsA("Decal") or v:IsA("Texture")) then
            v.Transparency=1
        elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
            v.Lifetime=NumberRange.new(0)
        elseif v:IsA("Explosion") then
            v.BlastPressure,v.BlastRadius=1,1
        elseif v:IsA("Fire") or v:IsA("SpotLight") or v:IsA("Smoke") then
            v.Enabled=false
        end
    end
    for _,e in ipairs(l:GetChildren()) do
        if e:IsA("BlurEffect") or e:IsA("SunRaysEffect") 
        or e:IsA("ColorCorrectionEffect") or e:IsA("BloomEffect") 
        or e:IsA("DepthOfFieldEffect") then e.Enabled=false end
    end
    game.Players.LocalPlayer.Idled:Connect(function()
        local VirtualUser=game:GetService("VirtualUser")
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
    end)
end)

-- TP Herald
local autoTPHerald=false
EventSection:NewToggle("TP Herald","Teleport Herald", function(state)
    autoTPHerald = state
    local r=game:GetService("ReplicatedStorage").Remotes.Events.PortalC
    local a={"2",true}
    local h=(game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait()):WaitForChild("HumanoidRootPart")
    local t=Vector3.new(-724,14,-249)
    if state then
        r:FireServer(unpack(a))
        task.spawn(function()
            while autoTPHerald do
                h.CFrame=CFrame.new(t)
                task.wait()
            end
        end)
    end
end)

-- Attack Herald
local selectedMode="Slow Attack"
EventSection:NewToggle("Attack Herald","Auto attack dummy", function(state)
    if selectedMode=="Slow Attack" and state then
        task.spawn(function()
            while state do
                game.ReplicatedStorage.Remotes.Herald.AttackTheDummy:FireServer()
                task.wait(0.018)
            end
        end)
    elseif selectedMode=="Fast Attack" and state then
        task.spawn(function()
            while state do
                game.ReplicatedStorage.Remotes.Herald.AttackTheDummy:FireServer()
                task.wait()
            end
        end)
    elseif selectedMode=="Faster Attack" and state then
        task.spawn(function()
            while state do
                for i=1,5 do
                    game.ReplicatedStorage.Remotes.Herald.AttackTheDummy:FireServer()
                end
                task.wait()
            end
        end)
    end
end)

EventSection:NewDropdown("Select Attack Mode","Choose mode",
    {"Slow Attack","Fast Attack","Faster Attack"}, function(option)
    selectedMode = option
end)
