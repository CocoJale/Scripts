-- Settings
local modelName = "Te Te Te Te Te Te Te Te Te Te Sahur"
local teleportDelay = 0.1

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local speaker = Players.LocalPlayer

-- Helper: get HumanoidRootPart or fallback BasePart
local function getRoot(character)
	return character and (character:FindFirstChild("HumanoidRootPart") or character:FindFirstChildWhichIsA("BasePart"))
end

-- Floating Function
local function enableFloating()
	local character = speaker.Character or speaker.CharacterAdded:Wait()
	local hrp = character:WaitForChild("HumanoidRootPart")

	if hrp:FindFirstChild("FloatVelocity") then return end

	local bodyVelocity = Instance.new("BodyVelocity")
	bodyVelocity.Velocity = Vector3.new(0, 0, 0)
	bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)
	bodyVelocity.Name = "FloatVelocity"
	bodyVelocity.Parent = hrp

	RunService.Heartbeat:Connect(function()
		if hrp and hrp:FindFirstChild("FloatVelocity") then
			hrp.FloatVelocity.Velocity = Vector3.new(0, 0, 0)
		end
	end)
end

-- Start Floating
enableFloating()

-- Main Teleport Loop (Searches all of workspace)
task.spawn(function()
	while true do
		local char = speaker.Character or speaker.CharacterAdded:Wait()
		local hrp = getRoot(char)

		if hrp then
			for _, obj in ipairs(workspace:GetDescendants()) do
				if obj:IsA("Model") and obj.Name == modelName and obj:FindFirstChild("ZoneHitbox") then
					local humanoid = char:FindFirstChildOfClass("Humanoid")
					if humanoid and humanoid.SeatPart then
						humanoid.Sit = false
						task.wait(0.1)
					end

					hrp.CFrame = obj:GetModelCFrame()
					break -- Stop searching after teleport
				end
			end
		end

		task.wait(teleportDelay)
	end
end)
