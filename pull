local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/liebertsx/Tora-Library/main/src/library",true))()
local tab = library:CreateWindow("Utilities")
local folder = tab:AddFolder("Part Control")

-- Variables
local bringDistance = 50
local bringEnabled = false
local bringLoop -- for repeating action

-- Textbox for distance input
folder:AddBox({
    text = "Bring Distance",
    flag = "bring_distance",
    value = tostring(bringDistance),
    callback = function(val)
        local num = tonumber(val)
        if num then
            bringDistance = num
        end
    end
})

-- Bring parts function: teleports every "Handle" within bringDistance in front of the player
local function bringHandles()
    local player = game:GetService("Players").LocalPlayer
    local char = player.Character
    local root = char and char:FindFirstChild("HumanoidRootPart")
    if not root then return end

    for _, part in ipairs(workspace:GetDescendants()) do
        if part:IsA("BasePart") and part.Name == "Handle" then
            if (part.Position - root.Position).Magnitude <= bringDistance then
                local offset = root.CFrame.LookVector * 5
                part.CFrame = CFrame.new(root.Position + offset)
            end
        end
    end
end

-- Toggle for enabling/disabling bring loop
folder:AddToggle({
    text = "Bring nearest Handle",
    flag = "bring_toggle",
    state = false,
    callback = function(state)
        bringEnabled = state
        if bringEnabled then
            -- Start the bring loop
            bringLoop = game:GetService("RunService").RenderStepped:Connect(function()
                bringHandles()
                wait(0.1)
            end)
        else
            -- Stop the loop if running
            if bringLoop then
                bringLoop:Disconnect()
                bringLoop = nil
            end
        end
    end
})

library:Init()
